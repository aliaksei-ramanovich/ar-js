<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />


        <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
        <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js'></script>
        <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js'></script>

        <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>



        <script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>

        <!-- add this script in order to load a large set of 3D model extensions-->
        <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    </head>

    <body style="margin: 0; overflow: hidden;">


<!-- marker based started -->
    <a-scene
            vr-mode-ui="enabled: false;"
            loading-screen="enabled: false;"
            renderer="logarithmicDepthBuffer: true;"
            arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
            id="scene"
            embedded
            gesture-detector
    >
        <a-assets>
            <a-asset-item
                    id="animated-asset"
                    src="assets/asset.gltf"
            ></a-asset-item>
        </a-assets>

        <a-marker
                id="animated-marker"
                type="pattern"
                preset="custom"
                url="assets/marker-test.patt"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                id="markerA"
        >
            <a-entity
                    id="bowser-model"
                    scale="1.5 1.5 1.5"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset"
                    class="clickable"
                    gesture-handler
                    position="0 -1.6 0"
            ></a-entity>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>
<!-- marker based end -->

<!--    local based started -->

<!--    <a-scene-->
<!--            renderer="logarithmicDepthBuffer: true;"-->
<!--            embedded-->
<!--            loading-screen="enabled: false;"-->
<!--            arjs="sourceType: webcam; debugUIEnabled: false;"-->
<!--    >-->
<!--        <a-assets>-->
<!--            <a-asset-item-->
<!--                    id="animated-asset"-->
<!--                    src="assets/asset2.gltf"-->
<!--            ></a-asset-item>-->
<!--        </a-assets>-->

<!--    &lt;!&ndash;    <a-entity&ndash;&gt;-->
<!--    &lt;!&ndash;            look-at="[gps-camera]"&ndash;&gt;-->
<!--    &lt;!&ndash;            animation-mixer="loop: repeat"&ndash;&gt;-->
<!--    &lt;!&ndash;            gltf-model="#animated-asset"&ndash;&gt;-->
<!--    &lt;!&ndash;            scale="0.41995877621236544 0.41995877621236544 0.41995877621236544"&ndash;&gt;-->
<!--    &lt;!&ndash;            gps-entity-place="latitude: 53.95402532864317; longitude: 27.678638514826325;"&ndash;&gt;-->
<!--    &lt;!&ndash;    ></a-entity>&ndash;&gt;-->

<!--        <a-camera gps-new-camera rotation-reader Look-Controls position="0 2 0"></a-camera>-->
<!--    </a-scene>-->
<!--    local based ends -->

    </body>
</html>



<script>
    console.log('work -------------2')


    // local based js

    // window.onload = () => {
    //     let testEntityAdded = false;
    //
    //     console.log('work onload -------------')
    //
    //
    //     const el = document.querySelector("[gps-new-camera]");
    //
    //
    //     console.log('el', el)
    //
    //
    //
    //     el.addEventListener("gps-camera-update-position", e => {
    //
    //         console.log('work listener -------------')
    //
    //         if (!testEntityAdded) {
    //             alert(`Got first GPS position: lon ${e.detail.position.longitude} lat ${e.detail.position.latitude}`);
    //
    //
    //             let model2 = document.createElement('a-entity');
    //             model2.setAttribute('gps-new-entity-place', `latitude: ${e.detail.position.latitude + 0.001}; longitude: ${e.detail.position.longitude + 0.001};`);
    //
    //             model2.setAttribute('gltf-model', './assets/asset.gltf');
    //
    //             model2.setAttribute('rotation', '0 180 0');
    //             model2.setAttribute('position', '0 0.1 0');
    //             model2.setAttribute('animation-mixer', 'loop: repeat');
    //             model2.setAttribute('scale', '70 70 70');
    //             model2.setAttribute('look-at', '[gps-new-camera]');
    //
    //             model2.addEventListener('loaded', () => {
    //                 window.dispatchEvent(new CustomEvent('gps-entity-place-loaded'))
    //             });
    //
    //             document.querySelector("a-scene").appendChild(model2);
    //
    //         }
    //         testEntityAdded = true;
    //     });
    // }
</script>


<style>
.info {
    display: none;

    position: absolute;
    top: 0;
    left: 0;
    z-index: 3;
    background: beige;
}
</style>
